<button id="callBtn">Iniciar conversación</button>
<div id="callArea" style="height:600px;"></div>

<script type="module">
import DailyIframe from "https://unpkg.com/@daily-co/daily-js";

const replicaId = "tu_replica_id";   // <-- pon aquí tu replica
document.getElementById('callBtn').onclick = async () => {
  const res = await fetch('/api/start-conversation', {
    method: 'POST',
    body: JSON.stringify({ replicaId })
  });
  const { url } = await res.json();

  const iframe = document.createElement('iframe');
  iframe.src = url;           // conversation_url de Tavus
  iframe.style = "width:100%;height:100%;border:0";
  document.getElementById('callArea').appendChild(iframe);

};
</script>
